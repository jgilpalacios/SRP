let menus = [
  {
    "nombre": "menugenewinmax2.cfg",
    "contenido": "background_image /srp/fondos/fondogene.png\n\nmenuentry \"<== Volver al menu anterior(Maqueta personalizada)\" --unrestricted {\nconfigfile /srp/menus/menucopia2.cfg\n}\n\nmenuentry \"Iniciar backup de Windows y MAX\" --users \"\" {\nset gfxpayload=keep\nset root=$pSRP\nlinux /sysresccd/boot/x86_64/vmlinuz archisobasedir=sysresccd archisolabel=SRP iomem=relaxed setkmap=es quiet ar_suffixes=1,6,7 nowait srp_copia=copia2 ##tcopytoram##\ninitrd /sysresccd/boot/intel_ucode.img /sysresccd/boot/amd_ucode.img /sysresccd/boot/x86_64/sysresccd.img\n}\n\n"
  },
  {
    "nombre": "menugenewin2.cfg",
    "contenido": "\nbackground_image /srp/fondos/fondogene.png\n\nmenuentry \"<== Volver al menu anterior(Maqueta personalizada)\" --unrestricted {\nconfigfile /srp/menus/menucopia2.cfg\n}\n\nmenuentry \"Iniciar backup de Windows\" --users \"\" {\nset gfxpayload=keep\nset root=$pSRP\nlinux /sysresccd/boot/x86_64/vmlinuz archisobasedir=sysresccd archisolabel=SRP iomem=relaxed ar_suffixes=1,6 nowait srp_copia=copia2 ##tcopytoram##\ninitrd /sysresccd/boot/intel_ucode.img /sysresccd/boot/amd_ucode.img /sysresccd/boot/x86_64/sysresccd.img\n}\n\n\n\n"
  },
  {
    "nombre": "menugenemax2.cfg",
    "contenido": "background_image /srp/fondos/fondogene.png\n\nmenuentry \"<== Volver al menu anterior(Maqueta personalizada)\" --unrestricted {\nconfigfile /srp/menus/menucopia2.cfg\n}\n\nmenuentry \"Iniciar backup de MAX\" --users \"\" {\nset gfxpayload=keep\nset root=$pSRP\nlinux /sysresccd/boot/x86_64/vmlinuz archisobasedir=sysresccd archisolabel=SRP iomem=relaxed ar_suffixes=1,7 nowait srp_copia=copia2 ##tcopytoram##\ninitrd /sysresccd/boot/intel_ucode.img /sysresccd/boot/amd_ucode.img /sysresccd/boot/x86_64/sysresccd.img\n}\n\n"
  },
  {
    "nombre": "menugeneEFI2.cfg",
    "contenido": "background_image /srp/fondos/fondogene.png\n\nmenuentry \"<== Volver al menu anterior(Maqueta personalizada)\" --unrestricted {\nconfigfile /srp/menus/menucopia2.cfg\n}\n\nmenuentry \"Iniciar backup de la particion EFI\" --users \"\" {\nset gfxpayload=keep\nset root=$pSRP\nlinux /sysresccd/boot/x86_64/vmlinuz archisobasedir=sysresccd archisolabel=SRP iomem=relaxed ar_suffixes=1,9 nowait  srp_copia=copia2 ##tcopytoram##\ninitrd /sysresccd/boot/intel_ucode.img /sysresccd/boot/amd_ucode.img /sysresccd/boot/x86_64/sysresccd.img\n}\n\n\n\n\n"
  },
  {
    "nombre": "menurestEFI1.cfg",
    "contenido": "background_image /srp/fondos/fondorest.png\n\nmenuentry \"<== Volver al menu anterior(Maqueta de fábrica)\" {\nconfigfile /srp/menus/menucopia1.cfg\n}\n\nmenuentry \"Iniciar restauración de la particion EFI\" {\nset gfxpayload=keep\nset root=$pSRP\nlinux /sysresccd/boot/x86_64/vmlinuz archisobasedir=sysresccd archisolabel=SRP iomem=relaxed setkmap=es quiet ar_suffixes=1,A nowait srp_copia=copia1\ninitrd /sysresccd/boot/intel_ucode.img /sysresccd/boot/amd_ucode.img /sysresccd/boot/x86_64/sysresccd.img\n}\n"
  },
  {
    "nombre": "menurestEFI2.cfg",
    "contenido": "background_image /srp/fondos/fondorest.png\n\nmenuentry \"<== Volver al menu anterior(Maqueta personalizada)\" --unrestricted {\nconfigfile /srp/menus/menucopia2.cfg\n}\n\nmenuentry \"Iniciar restauración de la particion EFI\" --unrestricted {\nset gfxpayload=keep\nset root=$pSRP\nlinux /sysresccd/boot/x86_64/vmlinuz archisobasedir=sysresccd archisolabel=SRP iomem=relaxed setkmap=es quiet ar_suffixes=1,A nowait srp_copia=copia2\ninitrd /sysresccd/boot/intel_ucode.img /sysresccd/boot/amd_ucode.img /sysresccd/boot/x86_64/sysresccd.img\n}\n"
  },
  {
    "nombre": "menuavanzado.cfg",
    "contenido": "# menuavanzado.cfg\nunset chosen\nbackground_image /srp/fondos/fondo2.png\n\nmenuentry \"<== Volver al menú principal\" --unrestricted {\nconfigfile /srp/menus/menuprincipal.cfg\n}\n\nmenuentry \"Ayuda...\" {\n          echo \"\"\n\t  echo \"- Maqueta de fábrica: Permite restaurar las particiones al estado original de cuando se entregó\"\n\t  echo \"                      el equipo, con los programas y configuración hechos por la Consejería.\"\n\t  echo \"                      No se puede sobreescribir esta versión de la maqueta.\"\n          echo \"\"\n\t  echo \"- Maqueta personalizada: Permite crear una copia personalizada de las particiones, es decir,\"\n\t  echo \"                      instale los programas y personalice el sistema operativo a su gusto,\"\n\t  echo \"                      entonces cree su copia personalizada. No sobrecarge la maqueta con\"\n\t  echo \"                      programas, aunque se reserva bastante espacio este siempre es limitado.\"\n\t  echo \"                      No debe utilizar esta opción como método para backup de sus datos. La idea\"\n\t  echo \"                      es que pueda crear una maqueta personalizada para no volver a instalar\"\n\t  echo \"                      los programas y realizar la configuraciones cuando se restaura el equipo.\" \n          echo \"\"\n\t  echo \"- Configurar sistema operativo por defecto: Si su equipo tiene arranque dual (Windows y MAX),\"\n\t  echo \"                      permite seleccionar cuál de ellos iniciar por defecto.\"\n          echo \"\"\n          echo \"- Configurar tiempo de inicio: Permite modificar el tiempo que pasa hasta que se inicia el\"\n\t  echo \"                      sistema operativo por defecto.\"\n          echo \"\"\n\t  echo \"- Cambiar contraseña: Permite cambiar la contraseña de acceso al menú de opciones avanzadas.\"\n\t  echo \"                      El nombre de usuario no puede ser modificado.\"\n          echo \"\"\n\t  echo -n Pulse INTRO para continuar...\n\t  read\n}\n\nmenuentry \"Maqueta de fábrica... (solo usuario consejeria)\" --users \"\" {\nconfigfile /srp/menus/menucopia1.cfg\n}\n\nmenuentry \"Maqueta personalizada...\" --unrestricted {\nconfigfile /srp/menus/menucopia2.cfg\n}\n\n\nmenuentry \"Configurar sistema operativo por defecto\" --unrestricted {\nset gfxpayload=keep\nset root=$pSRP\nlinux /sysresccd/boot/x86_64/vmlinuz archisobasedir=sysresccd archisolabel=SRP setkmap=es quiet iomem=relaxed ar_suffixes=1,3 ##tcopytoram##\ninitrd /sysresccd/boot/intel_ucode.img /sysresccd/boot/amd_ucode.img /sysresccd/boot/x86_64/sysresccd.img\n}\n\nmenuentry \"Configurar tiempo de inicio\" --unrestricted {\nset gfxpayload=keep\nset root=$pSRP\nlinux /sysresccd/boot/x86_64/vmlinuz archisobasedir=sysresccd archisolabel=SRP iomem=relaxed setkmap=es quiet ar_suffixes=1,2 ##tcopytoram##\ninitrd /sysresccd/boot/intel_ucode.img /sysresccd/boot/amd_ucode.img /sysresccd/boot/x86_64/sysresccd.img\n}\n\nmenuentry \"Cambiar contraseña (solo usuario consejeria)\" --users \"\" {\nset gfxpayload=keep\nset root=$pSRP\nlinux /sysresccd/boot/x86_64/vmlinuz archisobasedir=sysresccd archisolabel=SRP iomem=relaxed setkmap=es quiet ar_suffixes=1,8 ##tcopytoram##\ninitrd /sysresccd/boot/intel_ucode.img /sysresccd/boot/amd_ucode.img /sysresccd/boot/x86_64/sysresccd.img\n}\n\nmenuentry \"Iniciar System Rescue (solo usuario consejeria)\" --users \"\" {\nset gfxpayload=keep\nset root=$pSRP\nlinux /sysresccd/boot/x86_64/vmlinuz archisobasedir=sysresccd archisolabel=SRP iomem=relaxed copytoram nowait setkmap=es ar_disable=true\ninitrd /sysresccd/boot/intel_ucode.img /sysresccd/boot/amd_ucode.img /sysresccd/boot/x86_64/sysresccd.img\n}\n\nmenuentry \"Iniciar System Rescue modo gráfico y montadas las particiones (solo usuario consejeria)\" --users \"\" {\nset gfxpayload=keep\nset root=$pSRP\nlinux /sysresccd/boot/x86_64/vmlinuz archisobasedir=sysresccd archisolabel=SRP iomem=relaxed copytoram nowait setkmap=es ar_suffixes=1,B\ninitrd /sysresccd/boot/intel_ucode.img /sysresccd/boot/amd_ucode.img /sysresccd/boot/x86_64/sysresccd.img\n}\nmenuentry \"  \"{true}\nmenuentry \"-----------------------------------------------------------------------------------------------\" {true}\nmenuentry \"-------------------------------------Opciones especiales:--------------------------------------\" {true}\nmenuentry \"----------Permiten realizar copias y restauraciones a o desde carpetas distintas de:-----------\" {true}\nmenuentry \"                     copia1 (copia de fábrica); copia2 (copia personalizada;                   \" {true}\nmenuentry \"-----------------------------------------------------------------------------------------------\" {true}\nmenuentry \"==> Ir a OPCIONES ESPECIALES (solo usuario consejeria)\" --users \"\" {\nconfigfile /srp/menus/menuespecial.cfg\n}\nmenuentry \"-----------------------------------------------------------------------------------------------\" {true}\n\n\n\n"
  },
  {
    "nombre": "menuespecial.cfg",
    "contenido": "# menuespecial.cfg\nunset chosen\nbackground_image /srp/fondos/fondoesp.png\n\nmenuentry \"<== Volver al menú avanzado\" --unrestricted {\nconfigfile /srp/menus/menuavanzado.cfg\n}\n\n##--entrada windows--##\nmenuentry \"-------------------------------------WINDOWS------------------------------------------------\" {true}\n\nmenuentry \"Iniciar backup de Windows\" --users \"\" {\nset gfxpayload=keep\nset root=$pSRP\nlinux /sysresccd/boot/x86_64/vmlinuz archisobasedir=sysresccd archisolabel=SRP iomem=relaxed ar_suffixes=1,6 nowait setkmap=es ##tcopytoram##\ninitrd /sysresccd/boot/intel_ucode.img /sysresccd/boot/amd_ucode.img /sysresccd/boot/x86_64/sysresccd.img\n}\n\nmenuentry \"Iniciar restauración de Windows\" --users \"\" {\nset gfxpayload=keep\nset root=$pSRP\nlinux /sysresccd/boot/x86_64/vmlinuz archisobasedir=sysresccd archisolabel=SRP iomem=relaxed setkmap=es quiet ar_suffixes=1,4 nowait setkmap=es\ninitrd /sysresccd/boot/intel_ucode.img /sysresccd/boot/amd_ucode.img /sysresccd/boot/x86_64/sysresccd.img\n}\n##--fin entrada windows--##\n\n##--entrada MAX--##\nmenuentry \"---------------------------------------MAX---------------------------------------------------\" {true}\n\nmenuentry \"Iniciar backup de MAX\" --users \"\" {\nset gfxpayload=keep\nset root=$pSRP\nlinux /sysresccd/boot/x86_64/vmlinuz archisobasedir=sysresccd archisolabel=SRP iomem=relaxed ar_suffixes=1,7 nowait setkmap=es ##tcopytoram##\ninitrd /sysresccd/boot/intel_ucode.img /sysresccd/boot/amd_ucode.img /sysresccd/boot/x86_64/sysresccd.img\n}\n\nmenuentry \"Iniciar restauración de MAX\" --users \"\" {\nset gfxpayload=keep\nset root=$pSRP\nlinux /sysresccd/boot/x86_64/vmlinuz archisobasedir=sysresccd archisolabel=SRP iomem=relaxed setkmap=es quiet ar_suffixes=1,5 nowait setkmap=es\ninitrd /sysresccd/boot/intel_ucode.img /sysresccd/boot/amd_ucode.img /sysresccd/boot/x86_64/sysresccd.img\n}\n##--fin entrada MAX--##\n\nmenuentry \"-----------------------------------------------------------------------------------------------\" {true}\n\n"
  },
  {
    "nombre": "menuprincipal.cfg",
    "contenido": "#Menu principal\n\n\ninsmod ext2\nloadfont /boot/grub/fonts/unicode.pf2\nset gfxmode=800x600x32\nset gfxpayload=800x600x32\ninsmod efi_gop\ninsmod efi_uga\ninsmod gfxterm\ninsmod all_video\ninsmod videotest\ninsmod videoinfo\ninsmod gfxterm\ninsmod vbe\nterminal_output gfxterm\ninsmod gfxterm\ninsmod png\nbackground_image /srp/fondos/fondo.png\nset lang=es\ninsmod gettext\n\nset color_normal=blue/black\nset color_highlight=white/blue\n\n##--variables globales grub--##\nset pSRP=(hd0,7)  # Definir la variable\nexport pSRP       # Hacerla global\nset pEFI=(hd0,1)  \nexport pEFI   \nset pWIN=(hd0,3)  \nexport pWIN\nset pMAX=(hd0,5)  \nexport pMAX\n\nset superusers=\"consejeria\"\nexport superusers\npassword_pbkdf2 consejeria grub.pbkdf2.sha512.10000.C726BA6D38F9BA407BE2A3FD2E387C3CA9F13E300A9D044A6524C14E3D10F78B548A414A293BE2D4A9E854917665698AFAA04E4D9950EAE71B3037CA1122A6BE.D5A858F35562C869E909D6A7DE4A01109B04E6075E4EEF207CF12462FEF19722DDACD5EDAC2DCBF532E4900D075483422C89D8247FFC58984F2B0DD2D529FDBA\npassword madrid cmadrid\n\n##--fin variables globales grub--##\n\ndefault=0\ntimeout=5\n\n##--entrada windows--##\nmenuentry \"Iniciar Windows\" --unrestricted --class windows --class os {\ninsmod part_gpt\ninsmod fat\nset root=$pEFI\nchainloader /EFI/Microsoft/Boot/bootmgfw.efi\n}\n##--fin entrada windows--##\n\n##--entrada MAX--##\nmenuentry \"Iniciar MAX\" --unrestricted --class max --class gnu-linux --class gnu --class os {\ninsmod part_gpt\ninsmod fat\nset root=$pEFI\nchainloader /EFI/ubuntu/grubx64.efi\n}\n##--fin entrada MAX--##\n\nmenuentry \"Información...\" --unrestricted {\necho\necho INFORMACION SOBRE LA MAQUETA\necho\necho Empresa............: xxxxx S.A.\necho Dotación...........: xxxx-AAA\necho Gestión incidencias: http://gestiona.educa.madrid.org/dtic\necho Equipo.............: xx xxxx xxxx xxx\necho Tipo de maqueta....: Windows 11 xxxx + MAX 12.0 64bit\necho Versión............: dd-mmm-2025\necho\necho Los sistemas operativos tienen configurado autologin con el usuario \"madrid\",\necho pero se necesita la contraseña para realizar tareas administrativas.\necho Tanto en Windows, MAX y el sistema de recuperación los datos son:\necho\necho Usuario...: madrid\necho Contraseña: cmadrid\necho\necho Se recomienda cambiar la contraseña cuanto antes en los tres sistemas.\necho\necho -n Pulse INTRO para volver al menú principal...\nread\n}\n\nmenuentry \"Opciones avanzadas...\" --users \"madrid\" {\nconfigfile /srp/menus/menuavanzado.cfg\n}\n"
  },
  {
    "nombre": "menucopia2.cfg",
    "contenido": "# menuavanzado.cfg\n\nbackground_image /srp/fondos/fondo2.png\n\n\nmenuentry \"<== Volver al menú anterior\" --unrestricted {\nconfigfile /srp/menus/menuavanzado.cfg\n}\n\n##--entrada windows--##\nmenuentry \"Restaurar Windows...\" --unrestricted {\nconfigfile /srp/menus/menurestwin2.cfg\n}\n##--fin entrada windows--##\n\n##--entrada MAX--##\nmenuentry \"Restaurar MAX...\" --unrestricted {\nconfigfile /srp/menus/menurestmax2.cfg\n}\n##--fin entrada MAX--##\n\n##--entrada EFI--##\nmenuentry \"Restaurar la particion EFI... (Solo consejería)\" --users \"\" {\nconfigfile /srp/menus/menurestEFI2.cfg\n}\n##--fin entrada EFI--##\n\n##--entrada windows y MAX--##\nmenuentry \"Restaurar Windows y MAX...\" --unrestricted {\nconfigfile /srp/menus/menurestwinmax2.cfg\n}\n##--fin entrada windows y MAX--##\n\n##--entrada windows2--##\nmenuentry \"Generar backup de Windows... (Solo consejería)\" --users \"\" {\nconfigfile /srp/menus/menugenewin2.cfg\n}\n##--fin entrada windows2--##\n\n##--entrada MAX2--##\nmenuentry \"Generar backup de MAX... (Solo consejería)\" --users \"\" {\nconfigfile /srp/menus/menugenemax2.cfg\n}\n##--fin entrada MAX2--##\n\n##--entrada EFI2--##\nmenuentry \"Generar backup de la particion EFI... (Solo consejería)\" --users \"\" {\nconfigfile /srp/menus/menugeneEFI2.cfg\n}\n##--fin entrada EFI2--##\n\n##--entrada windows y MAX2--##\nmenuentry \"Generar backup de Windows y MAX... (Solo consejería)\" --users \"\" {\nconfigfile /srp/menus/menugenewinmax2.cfg\n}\n##--fin entrada windows y MAX2--##\n"
  },
  {
    "nombre": "menurestmax2.cfg",
    "contenido": "background_image /srp/fondos/fondorest.png\n\nmenuentry \"<== Volver al menu anterior(Maqueta personalizada)\" --unrestricted {\nconfigfile /srp/menus/menucopia2.cfg\n}\n\nmenuentry \"Iniciar restauración de MAX\" --unrestricted {\nset gfxpayload=keep\nset root=$pSRP\nlinux /sysresccd/boot/x86_64/vmlinuz archisobasedir=sysresccd archisolabel=SRP iomem=relaxed setkmap=es quiet ar_suffixes=1,5 nowait srp_copia=copia2\ninitrd /sysresccd/boot/intel_ucode.img /sysresccd/boot/amd_ucode.img /sysresccd/boot/x86_64/sysresccd.img\n}\n"
  },
  {
    "nombre": "menurestwin2.cfg",
    "contenido": "background_image /srp/fondos/fondorest.png\n\nmenuentry \"<== Volver al menu anterior(Maqueta personalizada)\" --unrestricted {\nconfigfile /srp/menus/menucopia2.cfg\n}\n\nmenuentry \"Iniciar restauración de Windows\" --unrestricted {\nset gfxpayload=keep\nset root=$pSRP\nlinux /sysresccd/boot/x86_64/vmlinuz archisobasedir=sysresccd archisolabel=SRP iomem=relaxed setkmap=es quiet ar_suffixes=1,4 nowait srp_copia=copia2\ninitrd /sysresccd/boot/intel_ucode.img /sysresccd/boot/amd_ucode.img /sysresccd/boot/x86_64/sysresccd.img\n}\n"
  },
  {
    "nombre": "menurestwinmax2.cfg",
    "contenido": "background_image /srp/fondos/fondorest.png\n\nmenuentry \"<== Volver al menu anterior(Maqueta personalizada)\" --unrestricted {\nconfigfile /srp/menus/menucopia2.cfg\n}\n\nmenuentry \"Iniciar restauración de Windows y MAX\" --unrestricted {\nset gfxpayload=keep\nset root=$pSRP\nlinux /sysresccd/boot/x86_64/vmlinuz archisobasedir=sysresccd archisolabel=SRP iomem=relaxed setkmap=es quiet ar_suffixes=1,4,5 nowait srp_copia=copia2\ninitrd /sysresccd/boot/intel_ucode.img /sysresccd/boot/amd_ucode.img /sysresccd/boot/x86_64/sysresccd.img\n}\n"
  },
  {
    "nombre": "menucopia1.cfg",
    "contenido": "background_image /srp/fondos/fondo2.png\n\n\nmenuentry \"<== Volver al menú anterior\" --unrestricted {\nconfigfile /srp/menus/menuavanzado.cfg\n}\n\n##--entrada windows--##\nmenuentry \"Restaurar Windows...\" --unrestricted {\nconfigfile /srp/menus/menurestwin1.cfg\n}\n##--fin entrada windows--##\n\n##--entrada MAX--##\nmenuentry \"Restaurar MAX...\" --unrestricted {\nconfigfile /srp/menus/menurestmax1.cfg\n}\n##--fin entrada MAX--##\n\n##--entrada EFI--##\nmenuentry \"Restaurar la particion EFI...\" --unrestricted {\nconfigfile /srp/menus/menurestEFI1.cfg\n}\n##--fin entrada EFI--##\n\n##--entrada windows y MAX--##\nmenuentry \"Restaurar Windows y MAX...\" --unrestricted {\nconfigfile /srp/menus/menurestwinmax1.cfg\n}\n##--fin entrada windows y MAX--##\n\n"
  },
  {
    "nombre": "menurestwin1.cfg",
    "contenido": "background_image /srp/fondos/fondorest.png\n\nmenuentry \"<== Volver al menu anterior(Maqueta de fábrica)\" {\nconfigfile /srp/menus/menucopia1.cfg\n}\n\nmenuentry \"Iniciar restauración de Windows\" {\nset gfxpayload=keep\nset root=$pSRP\nlinux /sysresccd/boot/x86_64/vmlinuz archisobasedir=sysresccd archisolabel=SRP iomem=relaxed setkmap=es quiet ar_suffixes=1,4 nowait srp_copia=copia1\ninitrd /sysresccd/boot/intel_ucode.img /sysresccd/boot/amd_ucode.img /sysresccd/boot/x86_64/sysresccd.img\n}\n"
  },
  {
    "nombre": "menurestmax1.cfg",
    "contenido": "background_image /srp/fondos/fondorest.png\n\nmenuentry \"<== Volver al menu anterior(Maqueta de fábrica)\" {\nconfigfile /srp/menus/menucopia1.cfg\n}\n\nmenuentry \"Iniciar restauración de MAX\" {\nset gfxpayload=keep\nset root=$pSRP\nlinux /sysresccd/boot/x86_64/vmlinuz archisobasedir=sysresccd archisolabel=SRP iomem=relaxed setkmap=es quiet ar_suffixes=1,5 nowait srp_copia=copia1\ninitrd /sysresccd/boot/intel_ucode.img /sysresccd/boot/amd_ucode.img /sysresccd/boot/x86_64/sysresccd.img\n}\n"
  },
  {
    "nombre": "menurestwinmax1.cfg",
    "contenido": "background_image /srp/fondos/fondorest.png\n\nmenuentry \"<== Volver al menu anterior(Maqueta de fábrica)\" {\nconfigfile /srp/menus/menucopia1.cfg\n}\n\nmenuentry \"Iniciar restauración de Windows y MAX\" {\nset gfxpayload=keep\nset root=$pSRP\nlinux /sysresccd/boot/x86_64/vmlinuz archisobasedir=sysresccd archisolabel=SRP iomem=relaxed setkmap=es quiet ar_suffixes=1,4,5 nowait srp_copia=copia1\ninitrd /sysresccd/boot/intel_ucode.img /sysresccd/boot/amd_ucode.img /sysresccd/boot/x86_64/sysresccd.img\n}\n"
  }
];